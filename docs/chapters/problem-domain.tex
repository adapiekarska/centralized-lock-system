\chapter{Dziedzina problemu}
\label{chap:problem-domain}

	Niniejszy rozdział krótko opisuje dziedzinę problemu w oderwaniu od szczegółów technicznych przygotowanego w ramach pracy rozwiązania, nakreśla podstawowe zagadnienia związane z bezpieczeństwem tego typu systemów, a także przedstawia porównanie niektórych z obecnie dostępnych na rynku systemów kontroli dostępu.

	\section{Kontrola dostępu}

		Kontrola dostępu to środki mające na celu zapewnienie, że do zasobów systemu przetwarzania danych mogą mieć dostęp tylko uprawnione jednostki w uprawniony sposób~\cite{pkn2002}.

		British Security Industry Association wyodrębnia kilka komponentów składających się na system kontroli dostępu~\cite{bsia2016}. Poniżej przedstawiono wybrane komponenty, które mają zastosowanie lub są powiązane z opisywanem systemem.

		Poświadczenie tożsamości (ang. \textit{credentials}) to fizyczny lub materialny obiekt, element wiedzy lub cecha biometryczna umożliwiająca uzyskanie dostępu do kontrolowanej strefy. Najczęściej jako poświadczenie tożsamości stosuje się kody, np. PIN (ang. \textit{Personal Identification Number}, osobisty numer identyfikacyjny), tokeny (karty, urządzenia mobilne itp.) oraz dane biometryczne.~\cite{bsia2016}

		British Security Industry Association terminem ''czytniki'' (ang. \textit{readers}) nazywa urządzenia odpowiedzialne za kontrolę dostępu. Dla uproszczenia nomenklatura ta została zachowana w niniejszej sekcji. W innych częściach niniejszej pracy termin ''czytnik'' używany jest w znaczeniu urządzenia odpowiedzialnego wyłącznie za odczyt danych z nośnika.

		Czytniki mogą pracować samodzielnie; wyposażone są wówczas w urządzenia wejścia/wyjścia niezbędne do zarządzania zamkiem oraz pamięć i moc obliczeniową niezbędne do autonomicznego podejmowania decyzji. Zazwyczaj wyposażone są w uniwersalny kod umożliwiający uzyskanie dostępu każdemu kto wejdzie w jego posiadanie.~\cite{bsia2016}

		Czytniki mogą też pracować pod kontrolą innego urządzenia. Odczytane z nośnika dane poświadczające tożsamość przekazują do nadrzędnego urządzenia zwanego kontrolerem.~\cite{bsia2016}

		Istnieją również czytniki łączące funkcjonalność zarówno czytnika jak i kontrolera w jednym urządzeniu. Posiadają one lokalną kopię bazy danych, na podstawie której podejmowana jest decyzja o przyznaniu lub odmowie dostępu.~\cite{bsia2016}

		Tzw. czytniki offline (ang. \textit{offline readers}) różnią się od zwykłych czytników łączących funkcjonalności czytnika i kontrolera tym, iż nie przechwoują kopii bazy danych. W tym przypadku to nośnik danych(karta) zawiera informacje o tym, które zamki może otworzyć. Czytnik offline analizuje te dane i na ich podstawie podejmuje stosowną decyzję o podjęciu lub odmowie dostępu.~\cite{bsia2016}

		Czytniki online (ang. \textit{online readers}) także nie przechowują kopii bazy danych. Decyzja o przyznaniu lub odmowie dostępu jest w ich przypadku podejmowana przez podłączony komputer, który przesyła odpowiednią komendę po udanej autentykacji.~\cite{bsia2016}

		W rozwiązaniach sieciowych czytniki mogą być podłączone do kontrolera, który przechowuje informacje niezbędne do podjęcia decyzji o przyznaniu bądź odmowie dostępu.~\cite{bsia2016}

		Urządzenia wyjściowe (ang. \textit{egress devices}) umożliwiają użytkownikowi opusczenie strefy chronionej od wewnątrz. Jako urządzenia wyjściowe najczęściej używa się przełączników, czujników ruchu lub czytników. Według British Security Industry Association urządzenia wyjściowe można podzielić je na zwykłe oraz awaryjne (ang. \textit{emergency egress}), przy czym, ze względu na krytyczne znaczenie w wypadku awarii, działanie tych drugich nie powinno zależeć od komponentów systemu (kontrolera systemu, oprogramowania itp.). Jako urządzenie awaryjne często stosuje się tzw. \textit{break glass device}, którego uaktywnienie powoduje odcięcie zasilania w zamku, a tym samym wstrzymanie kontroli dostępu w danym punkcie. Dostęp uzyskany za pomocą tego urządzenia powinien wygenerować stosowne powiadomienie bądź alarm.~\cite{bsia2016}

		W zależności od potrzeb, oprogramowanie w systemie może być samodzielnym programem zainstalowanym na komputerze osobistym bądź złożonym i bezpiecznym oprogramowaniem zainstalowanym na serwerze. Często opiera się na rozwiązaniach webowych lub mobilnych, umożliwiając dostęp z dowolnego urządzenia.~\cite{bsia2016}

		British Security Industry Association w następujący sposób przedstawia sposób działania systemów kontroli dostępu:

		W systemie on-line, w momencie gdy poświadczenie tożsamości zostaje przedstawione czytnikowi, informacja przesyłana jest do kontrolera. Kontroler porównuje otrzymane dane z listą autoryzowanych użytkowników w bazie danych. Jeżeli przedstawione dane znajdują się w bazie, kontroler wysyła sygnał otworzenia zamka. Sygnał wysyłany jest do czytnika w celu wizualnego lub dźwiękowego powiadomienia użytkownika o podjętej decyzji.~\cite{bsia2016}

		W systemie off-line, w momencie gdy poświadczenie tożsamości zostaje przedstawione czytnikowi, czytnik dokonuje sprawdzenia, czy dostęp powinien zostać przyznany. Jeżeli tak, czytnik zezwala na dostęp i aktualizuje przedstawiony nośnik danych poświadczających tożsamość. W momencie zaprezentowania tego samego nośnika w czytniku wyposażonym w kontroler dane na temat dostępów zostaną zanotowane w systemie, a sam nośnik może zostać zaktualizowany o zmiany w prawach dostępu, jeśli takie nastąpiły.~\cite{bsia2016}

		W większości przypadków tylko wejście podlega kontroli. Aby możliwa była również kontrola wyjścia z chronionego terenu, potrzebny jest drugi czytnik umieszczony po drugiej stronie drzwi. Jeżeli obustronna kontrola nie jest wymagana, stosuje się zazwyczaj przycisk umożliwiający otworzenie zamka od środka.~\cite{bsia2016}

		W przypadku, gdy system kontroli dostępu nie funkcjonuje odpowiednio (np. z powodu braku zasilania), stosuje się tzw. \textit{break glass device}.~\cite{bsia2016}

	\section{Bezpieczeństwo}
		\textbf{Przegląd zagrożeń związanych z bezpieczeństwem - TBD}

		Projektując system o tak krytycznym znaczeniu jak system kontroli dostępu, należy poświęcić znaczną uwagę zagadnieniom związanym z bezpieczeństwem. Bezpieczeństwo całego systemu nie może zostać osiągnięte, jeśli chociaż jeden z jego elementów nie zostanie odpowiednio zabezpieczony. Należy więc dołożyć wszelkich starań, aby zapewnić odpowiednie mechanizmy bezpieczeństwa we wszystkich warstwach systemu: sprzętowej oraz programowej oraz odpowiednią ochronę danych we wszystkich fazach działania systemu.

	\section{Przegląd istniejących rozwiązań}
		\textbf{Ten podrozdział wymaga dopracowania i rozszerzenia - TBD}

		W dzisiejszych czasach rozwój technologii daje wiele możliwości w kwestii implementacji dostępu do pomieszczeń. Wyróżnić można wiele rodzajów kontroli dostępu, z czego każde ma, właściwe dla wykorzystanych metod, wady i zalety. Poniżej przedstawiona została zaproponowana w \cite{access-system-survey} klasyfikacja systemów kontroli dostępu:
		\begin{enumerate}[label=\Alph*.]
			\item System zamków mechanicznych

				Zamek oparty na układzie mechanicznym otwieranym przez fizyczny klucz \textbf{moze dodackiedy powstał pierwszy zamek}. Jest to cały czas najczęściej stosowana metoda ochrony przestrzeni mieszkalnych, mimo to, że złamanie takiego zabezpieczenia wymaga jedynie odpowiednich umiejętności manualnych i wykorzystanych narzędzi.

			\item System z uwierzytelnieniem przez PIN

				Mikrokontroler z klawiaturą numeryczną gdzie dostęp jest przydzielany na podstawie wprowadzonego kodu. Rozwiązuje to problem konieczności posiadania kosztownego w produkcji unikalnego, fizycznego klucza, który z natury narażony jest na kradzież lub zagubienie~\cite{keypad-access-system}. Wadą tego rozwiazania jest ograniczona możliwość zmiany kodu dostępu i podatność na jego ekstrakcję z pamięci programowalnej.

			\item System z uwierzytelnieniem przez RFID

				Rolę nośnika klucza pełni tag RFID, w którego pamięci owy klucz pozostaje zapisany. W przypadku dostatecznego zbliżenia nośnika do anteny, umieszcznej drzwiach lub w ich bezpośrednim sąsiedztwie, następuje odczyt i weryfikacja klucza. Sytemy tego typu poza metodą autoryzacji dają również możliwość monitorowania w czasie rzeczywistym ruchu użytkowników systemu lub też wyposażenia objętego kontrolą przez umieszczenie w nim tagów RFID jak zostało to  w \cite{rfid-access-system-for-university}. Ze względu na wykorzystanie nieszyfrowanej transmisji bezprzewodowej, przesyłany klucz jest łatwy do przechwycenia

			\item System z uwierzytelnieniem przez dane biometryczne

				Opierając uwierzytelnienie o konwersję określonych unikalnych cech fizycznych użytkownika do postaci numerycznej można całkowicie wyeliminować konieczność istnienia fizycznych kluczy i haseł. Nie ma w ten sposób możliwości zgubienia, kradzieży lub zapomnienia klucza co potencjalnie zwiększa bezpieczeństwo, jednak rozwiązanie to nie pozostaje bez wad. Wśród przezentowanych w \cite{biometric-system-vulnerabilities} zagrożeń wyróżnić można brak tajności danych biometrycznych przez co możliwa jest duplikacja określonej cechy. Sama cecha jest też podatna na uszkodzenia mechaniczne a po utracie nie można jej zastąpić.

			\item System z uwierzytelnieniem przez OTP (ang. \textit{One Time Password}, hasło jednorazowe)

				Uwierzytenienie w systemie tego rodzaju wymaga wprowadzenia jednorazowego hasła, które generowane jest przez serwer a następnie wysyłane do użytkownika przez wiadomość tekstową oraz zapisywane w systemie. Użytkownik następnie przy próbie dostępu wpisuje otrzymane hasło, które zostaje porównane z wartością zapisaną w systemie a następnie usunięte. Główną zaletą tego rozwiązania jest znacząco zmniejszona podatność na ataki powtórzeniowe gdzie atakujący przechwytuje dane wykorzystane do autoryzacji i używa ich ponownie w celu uzyskania dostępu. Problemem jest wymaganie dostępności użytkownikownika w sieci GSM w celu przekazania hasła.

			\item System oparty na kryptograficznym bezpieczeństwie danych

				Bezpieczeństwo tego rozwiązania bazuje na kluczu dostępu, który jest znany wyłącznie przez użytkownika systemu. W pamięci układu zamka zapisywana jest odpowiednia sekwencja, która dopiero po transformacji kryptograficznej staje się hasłem dostępu (w tej postaci jest ono przekazywane użytkownikowi). W ten sposób hasło znane jest tylko użytkownikowi co zapewnia, że nawet osoby odpowiedzialne za utrzymanie systemu nie uzyskają dostępu przez pozyskanie hasła. Słabą stroną metody jest oparcie bezpieczeństwa systemu na kluczu kryptograficznym który musi być przechowywany w bezpieczny sposób.

			\item System oparty o komunikację bezprzewodową
				\textbf{TODO: review documentation considering author names}
				W systemie tego typu przepływ danych następuje za pośrednictwem komunikacji bezprzewodowej. Użytkownik wykorzystuje urządzenie mobilne połączone z siecią do autoryzacji próby dostępu. Rozwiązanie zaproponowane w \cite{cryptographic-iot-access-system} zakłada, że w przeciwieństwie do wcześniej wymienionych rozwiązań, użytkownik nie komunikuje się bezpośrednio z zamkiem. Zamiast tego komunikacja następuje za pośrednictwem serwera znajdującego się w sieci lokalnej wraz z urządzeniem moblinym użytkownika. Użytkownik stosuje odpowiednie zapytanie do serwera, który dokonuje kontroli uprawnień i w przypadku pozytywnej ich weryfikacji, przekazuje je do układu zamka.

		\end{enumerate}


		% W mniej wymagających systemach często stosuje się rozwiązania oparte na architekturze rozproszonej. W rozwiązaniach tego typu urządzenia kontrolujące zamki pracują w sposób autonomiczny. Oznacza to, iż cały proces uwierzytelniania dokonywany jest przez oprogramowanie mikroprocesora obsługującego zamek.

		% Na rynku dostępne są także rozwiązania sieciowe, bądź też takie, które umożliwiają konfigurację urządzeń w tryb zarówno autonomiczny, jak i sieciowy. Rozwiązania sieciowe charakteryzują się znacznym stopniem skomplikowania, zarówno pod względem architektonicznym (ilość i rodzaj potrzebnych komponentów sprzętowych)~\cite{racs5}, jak i konfiguracyjnym (trudność instalacji, konieczność modyfikacji istniejącej infrastruktury). Mogą oferować oddzielenie funkcjonalności czytnika dostępu od kontrolera, umożliwiając obsługę do kilkunastu czytników za pomocą jednego urządzenia kontrolującego~\cite{racs5}. Mimo możliwości dołączenia do kontrolera zamków bezprzewodowych, działanie całego systemu wciąż pozostaje w pewnym stopniu uzależnione od komunikacji przewodowej.

		% Ze względu na ilość komponentów sprzętowych, istniejące rozwiązania bywają drogie.